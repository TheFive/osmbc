extends layout




block content
  h1
   |Dataset Log

  table.table.table-striped.table-responsive
    thead
      tr 
        th
          | Field
        th
          | Value
        th
          | Description
    tbody
      tr
        th
          | blog
        td= change.blog
        td
          | Which blog was changed
      tr
        th
          | user
        td= change.user
        td
          | User who did the change
      tr
        th
          | Timestamp
        td= change.timestamp +" (" +layout.moment(change.timestamp).fromNow()+")"
        td
          | When was the change done
      tr
        th
          | table
        td= change.table
        td
          | Single Article or Blog Change
      tr
        th 
         | oid
        td
          a(href=`${layout.htmlroot}/${change.table}/${change.oid}`)=change.oid
        td
          | Click here to go to changed object
      tr
        th 
         | Property
        td= change.property
        td
          | Which Property was changed
      tr
        th 
         | From
        td(style="white-space:pre-line")= change.from
        td 
          | From Value
      tr
        th
          | To
        td(style="white-space:pre-line")= change.to
        td
          | To Value

      tr
        th
          | Changes
        td(style="white-space:pre-line")
          |!{coloredChange}
        td
          p
            |changes 
            span.osmbc-inserted-inverted
              |inserted 
            span.osmbc-deleted-inverted
              |removed
      if change.property.substring(0,8)==="markdown"
        tr
          th="Preview From"
          td
            |!{layout.md_renderInline(change.from)}
        tr
          th="Preview To"
          td
            |!{layout.md_renderInline(change.to)}




  